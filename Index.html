<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

</head>

<body>
    <main>

    </main>
    <script>
        const destination = document.querySelector("main");

        function printResult(result) {
            let newContent = document.createElement("div");
            newContent.textContent = JSON.stringify(result);
            destination.appendChild(newContent);
        }

        //Step 1
        function add(x, y) {
            return x + y;
        }
        printResult(add(2, 4))

        //Step 2
        function multiply(x, y) {
            let j = 0;
            for (let i = 0; i < y; i = add(i, 1)) {
                // j += x;
                j = add(j, x);
            }
            return j;
        }
        printResult(multiply(5, 8));

        //Step 3

        function power(x, n) {
            let sum = 0;
            let i;
            for (i = 0; i !== n; i = add(i, 1)) {
                // sum += (x * x) * n;
                sum = add(sum, multiply(n, multiply(x, x)));
            }
            printResult(sum);
        }
        power(2, 8);

        //Step 4
        let step4 = document.createElement("div")
        
        function factorial(x) {
            let factors = [];
            let i;
            let j;
            let sum = 1;
            let newContent;
            for (j = 1; j !== x + 1; j++) {
                factors.push(j);
                
            } 
            for (i = 0; i<factors.length; i++){
                // sum *= factors[i]; 
                sum = multiply(sum, factors[i]);
            }
            printResult(sum);
            printResult(factors);
        }

        factorial(5);

        //step 5

        function fibonacci(x){
            let factors = [0, 1];
            for(let i = 2; i < x; i++) {
                factors[i] = factors[i - 1] + factors[i - 2]; 
            }
            return factors[factors.length - 1];
        }

        // function fibonacci(x){
        //     let factors = [0, 1];
        //     for(let i = 2; i < x; i = add(i, 1)) {
        //         let lastValue = factors[add(i , -1)];
        //         let secondToLastValue = factors[add(i, -2)];
        //         factors[i] = add(lastValue, secondToLastValue); 
        //     }
        //     const lastIndex = add(factors.length, -1);
        //     return factors[lastIndex];
        // }
        
        printResult(fibonacci(8));

    </script>
</body>

</html>